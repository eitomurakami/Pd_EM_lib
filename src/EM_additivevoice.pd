#N canvas -11 -11 1920 971 12;
#X obj 150 138 inlet~;
#X text 157 116 freq;
#X obj 150 737 outlet~;
#X obj 168 167 loadbang;
#X obj 168 196 f \$1;
#X obj 150 294 *~;
#X obj 150 501 *~;
#X text 499 471 <-anti-alias;
#X obj 168 225 + 1;
#X obj 515 138 inlet~;
#X obj 1095 127 inlet;
#X obj 1095 156 i;
#X obj 150 679 *~;
#X obj 168 254 sig~;
#X obj 515 167 clip~ 1 50;
#X obj 150 708 *~ 0.2;
#X obj 1095 185 clip~ 0 2;
#X text 197 224 <-harmonic num;
#X obj 1238 244 f;
#X obj 1238 215 inlet;
#X text 1234 194 comp_priority;
#X obj 595 561 expr~ if($v3==0 \, if($v1<=$v2 \, 1 \, 0) \, if($v3==1
\, if($v1>=$v2 \, 1 \, 0) \, if($v3==2 \, if($v4<=$v2 \, 1 \, 0) \,
0)));
#X obj 1238 273 sig~;
#X obj 150 540 *~;
#X text 954 110 deviation;
#X obj 150 375 ftom~;
#X obj 235 269 loadbang;
#X obj 235 327 / 100;
#X obj 150 404 +~;
#X obj 235 385 *~;
#X obj 956 161 clip~ 0 1;
#X obj 956 132 inlet~;
#X obj 956 190 lop~ 100;
#X obj 150 433 mtof~;
#X text 1074 105 comp_behavior (0==lowpass \, 1==highpass \, 2==random)
;
#X obj 1115 289 change;
#X obj 1115 318 b;
#X obj 235 298 random 1200;
#X obj 235 356 - 6;
#X text 149 799 EN_additivevoice (12/05/21);
#X text 370 521 <-comp_amplitude;
#X obj 595 604 lop~ 100;
#X obj 815 138 inlet~;
#X text 813 116 comp_exponent;
#X obj 815 167 clip~ 0 5;
#X text 149 50 A sinusoidal component for EM_additive. The relative
amplitude of each harmonic is defined as 1/pow(harmonic number \, comp_exponent).
;
#X obj 815 196 lop~ 100;
#X obj 41 141 inlet;
#X obj 473 386 loadbang;
#X obj 473 444 / 2;
#X obj 210 472 expr~ if($v1<0 \, 0 \, if($v1>=$v2 \, 0 \, 1));
#X obj 211 521 expr~ 1/pow($v1 \, $v2);
#X obj 473 415 samplerate~;
#X obj 150 644 *~;
#X obj 168 577 expr~ if($v1%2==0 \, $v2 \, $v3);
#X obj 615 138 inlet~;
#X text 613 116 even_amp;
#X obj 715 138 inlet~;
#X text 713 116 odd_amp;
#X obj 615 167 clip~ 0 1;
#X obj 715 167 clip~ 0 1;
#X obj 168 606 lop~ 100;
#X text 372 577 <-even/odd relative amplitude;
#X obj 150 462 osc~;
#X text 1031 568 <-control the amplitude based on comp_num and comp_behavior
;
#X text 513 116 comp_num;
#X text 14 406 frequency offset->;
#X text 40 119 dummy;
#X connect 0 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 5 0 25 0;
#X connect 6 0 23 0;
#X connect 8 0 13 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 11 0 16 0;
#X connect 12 0 15 0;
#X connect 13 0 5 1;
#X connect 13 0 21 0;
#X connect 13 0 51 0;
#X connect 13 0 54 0;
#X connect 14 0 21 1;
#X connect 15 0 2 0;
#X connect 16 0 21 2;
#X connect 18 0 22 0;
#X connect 18 0 35 0;
#X connect 19 0 18 0;
#X connect 21 0 41 0;
#X connect 22 0 21 3;
#X connect 23 0 53 0;
#X connect 25 0 28 0;
#X connect 26 0 37 0;
#X connect 27 0 38 0;
#X connect 28 0 33 0;
#X connect 29 0 28 1;
#X connect 30 0 32 0;
#X connect 31 0 30 0;
#X connect 32 0 29 1;
#X connect 33 0 50 0;
#X connect 33 0 63 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 27 0;
#X connect 38 0 29 0;
#X connect 41 0 12 1;
#X connect 42 0 44 0;
#X connect 44 0 46 0;
#X connect 46 0 51 1;
#X connect 48 0 52 0;
#X connect 49 0 50 1;
#X connect 50 0 6 1;
#X connect 51 0 23 1;
#X connect 52 0 49 0;
#X connect 53 0 12 0;
#X connect 54 0 61 0;
#X connect 55 0 59 0;
#X connect 57 0 60 0;
#X connect 59 0 54 1;
#X connect 60 0 54 2;
#X connect 61 0 53 1;
#X connect 63 0 6 0;
